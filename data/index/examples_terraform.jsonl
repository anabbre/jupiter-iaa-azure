{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "43a4f7741c69bc9a", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"frontdoor_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "43a4f7741c69bc9a", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname público de Front Door\"\n  value       = azurerm_cdn_frontdoor_endpoint.this.host_name\n}\n\noutput \"log_analytics_workspace_id\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "43a4f7741c69bc9a", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_log_analytics_workspace.this.id\n}", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "43a4f7741c69bc9a", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account + Static Website (origen)\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# Azure Front Door (Standard/Premium)\nresource \"azurerm_cdn_frontdoor_profile\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-afd-prof\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku_name            = var.front_door_sku_name\n  tags                = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-endp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n  tags                     = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_origin_group\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-origrp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n\n  load_balancing {\n    sample_size                 = 4\n    successful_samples_required = 3\n  }\n\n  health_probe {\n    path                = \"/\"\n    request_type        = \"HEAD\"\n    protocol            = \"Https\"\n    interval_in_seconds = 100\n  }\n}\n\n# Origen: host público del Static Website (sin https://)\nresource \"azurerm_cdn_frontdoor_origin\" \"static_site_origin\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-origin\"\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n\n  # El Static Website expone 'primary_web_host' (hostname sin esquema)\n  host_name = azurerm_storage_account.this.primary_web_host\n\n  http_port                      = 80\n  https_port                     = 443\n  enabled                        = true\n  priority                       = 1\n  weight                         = 1000\n  certificate_name_check_enabled = true\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Ruta: enlaza endpoint con el origen (redirige a HTTPS)\nresource \"azurerm_cdn_frontdoor_route\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-route\"\n  cdn_frontdoor_endpoint_id     = azurerm_cdn_frontdoor_endpoint.this.id\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n  cdn_frontdoor_origin_ids      = [azurerm_cdn_frontdoor_origin.static_site_origin.id]\n\n  supported_protocols    = [\"Http\", \"Https\"] # acepta ambos...\n  https_redirect_enabled = true              # ...pero redirige a HTTPS\n\n  link_to_default_domain = true\n  patterns_to_match      = [\"/*\"]\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Log Analytics (destino de diagnósticos)\nresource \"azurerm_log_analytics_workspace\" \"this\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = var.log_analytics_workspace_name\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 12, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku                 = \"PerGB2018\"\n  retention_in_days   = var.log_analytics_retention_days\n  tags                = var.tags\n}\n\n# Diagnostic Settings (sin retention_policy -> sin warnings)\n\n# STORAGE => LAW \nresource \"azurerm_monitor_diagnostic_setting\" \"storage_to_law\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 13, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                       = \"${var.project}-diag-storage\"\n  target_resource_id         = azurerm_storage_account.this.id\n  log_analytics_workspace_id = azurerm_log_analytics_workspace.this.id\n\n  enabled_log {\n    category = \"StorageRead\"\n  }\n  enabled_log {\n    category = \"StorageWrite\"\n  }\n  enabled_log {\n    category = \"StorageDelete\"\n  }\n\n  metric {\n    category = \"AllMetrics\"\n    enabled  = true\n  }\n}\n\n# FRONT DOOR PROFILE => LAW (moderno)\nresource \"azurerm_monitor_diagnostic_setting\" \"afd_to_law\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 14, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                       = \"${var.project}-diag-afd\"\n  target_resource_id         = azurerm_cdn_frontdoor_profile.this.id\n  log_analytics_workspace_id = azurerm_log_analytics_workspace.this.id\n\n  enabled_log {\n    category = \"FrontDoorAccessLog\"\n  }\n  enabled_log {\n    category = \"FrontDoorHealthProbeLog\"\n  }\n\n  metric {\n    category = \"AllMetrics\"\n    enabled  = true\n  }\n}", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "1de055fe7d961f74", "chunk_id": 15, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 08 – Static Site + Diagnostics (Azure Monitor)\n\nObjetivo: servir el Static Website de Azure Storage detrás de **Front Door Standard/Premium** y habilitar **Diagnostic Settings** enviando logs/métricas a **Log Analytics**.\n\n> Este ejemplo valida **offline** con:\n>\n> ```bash\n> terraform fmt -recursive\n> terraform init -backend=false\n> terraform validate\n> ```\n", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "08-static-site+diagnostics", "hash": "1ea9adb96dbe5db1", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"ststaticsitedemo123\" # minúsculas, 3-24, único global\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"404.html\"\n}\n\n# Front Door Standard/Premium\nvariable \"front_door_sku_name\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"Standard_AzureFrontDoor\"\n}\n\n# Log Analytics\nvariable \"log_analytics_workspace_name\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"law-static-demo\"\n}\n\nvariable \"log_analytics_retention_days\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = number\n  default = 30\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/08-static-site+diagnostics/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "08-static-site+diagnostics", "hash": "a1c011bbf148589f", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "d628ab174e3919e4", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"static_website_host\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "d628ab174e3919e4", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Host público del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_host\n}\n\noutput \"custom_domain_fqdn\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "d628ab174e3919e4", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"FQDN del dominio personalizado (registro CNAME)\"\n  value       = \"${var.custom_domain_record_name}.${var.custom_domain_zone_name}\"\n}\n\noutput \"cname_target\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "d628ab174e3919e4", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Objetivo del CNAME (debe apuntar al host público del sitio estático)\"\n  value       = azurerm_storage_account.this.primary_web_host\n}", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "d628ab174e3919e4", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = \"${var.project}-rg\"\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account con Static Website habilitado\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = lower(var.storage_account_name) # nombre global único\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# === Custom Domain (solo DNS) ===\n# Zona DNS (p. ej. example.com)\nresource \"azurerm_dns_zone\" \"this\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = var.custom_domain_zone_name # ejemplo: \"example.com\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "tags                = var.tags\n}\n\n# CNAME (p. ej. www.example.com -> <account>.z13.web.core.windows.net)\nresource \"azurerm_dns_cname_record\" \"static_site_cname\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = var.custom_domain_record_name # ejemplo: \"www\"\n  zone_name           = azurerm_dns_zone.this.name\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "ttl                 = var.dns_ttl\n\n  record = azurerm_storage_account.this.primary_web_host\n  # primary_web_host suele tener forma: <account>.z13.web.core.windows.net\n}\n\n# Nota: la federación/validación de dominio del propio servicio la haremos después\n# (Front Door o enlazado en Static Web Apps), pero para el MVP del chatbot\n# nos basta con modelar la intención: un CNAME hacia el host público del sitio estático.", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "c6b0692de1be935b", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# Static Website + Custom Domain (CNAME)\n\n**Crea:**\n\n- Resource Group\n- Storage Account (Static Website habilitado)\n- Zona DNS (ej. `example.com`)\n- CNAME `www.example.com` -> `<account>.z13.web.core.windows.net`\n\n**Validación local (offline):**\n\n```bash\nterraform fmt -recursive\nterraform init -backend=false\nterraform validate\n", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "05-static-site+custom-domain", "hash": "ff2cec8be6f30ec8", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre corto del proyecto\"\n  type        = string\n  default     = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Región de Azure\"\n  type        = string\n  default     = \"westeurope\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre único para la cuenta de Storage (minúsculas, 3–24, letras/números)\"\n  type        = string\n  default     = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de inicio del sitio estático\"\n  type        = string\n  default     = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de error del sitio estático\"\n  type        = string\n  default     = \"404.html\"\n}\n\nvariable \"custom_domain_zone_name\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Zona DNS del dominio (ej. example.com)\"\n  type        = string\n  default     = \"example.com\"\n}\n\nvariable \"custom_domain_record_name\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Registro CNAME (ej. www)\"\n  type        = string\n  default     = \"www\"\n}\n\nvariable \"dns_ttl\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"TTL del registro CNAME\"\n  type        = number\n  default     = 300\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/05-static-site+custom-domain/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "05-static-site+custom-domain", "hash": "ccf801f9c91dd127", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"frontdoor_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname público de Front Door\"\n  value       = azurerm_cdn_frontdoor_endpoint.this.host_name\n}\n\noutput \"log_analytics_workspace_id\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_log_analytics_workspace.this.id\n}\n\noutput \"resource_group_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_resource_group.this.name\n}\n\noutput \"storage_account_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_storage_account.this.name\n}\n\noutput \"frontdoor_profile_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_cdn_frontdoor_profile.this.name\n}", "path": "docs/examples/azure-static-site/07-static-site+logging/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "b86229ff32b06884", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account + Static Website (origen)\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# Azure Front Door (Standard/Premium)\nresource \"azurerm_cdn_frontdoor_profile\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-afd-prof\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku_name            = var.front_door_sku_name # p.ej. \"Standard_AzureFrontDoor\"\n  tags                = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-endp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n  tags                     = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_origin_group\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-origrp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n\n  load_balancing {\n    sample_size                 = 4\n    successful_samples_required = 3\n  }\n\n  health_probe {\n    path                = \"/\"\n    request_type        = \"HEAD\"\n    protocol            = \"Https\"\n    interval_in_seconds = 100\n  }\n}\n\n# Origen: host público del Static Website del Storage (sin https://)\nresource \"azurerm_cdn_frontdoor_origin\" \"static_site_origin\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-origin\"\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n\n  # El Static Website expone 'primary_web_host' (hostname sin esquema)\n  host_name = azurerm_storage_account.this.primary_web_host\n\n  http_port                      = 80\n  https_port                     = 443\n  enabled                        = true\n  priority                       = 1\n  weight                         = 1000\n  certificate_name_check_enabled = true\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Ruta: enlaza endpoint con el origen\nresource \"azurerm_cdn_frontdoor_route\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-route\"\n  cdn_frontdoor_endpoint_id     = azurerm_cdn_frontdoor_endpoint.this.id\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n  cdn_frontdoor_origin_ids      = [azurerm_cdn_frontdoor_origin.static_site_origin.id]\n\n  supported_protocols    = [\"Http\", \"Https\"]\n  https_redirect_enabled = true\n  link_to_default_domain = true\n  patterns_to_match      = [\"/*\"]\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Log Analytics + Diagnostic Settings\nresource \"azurerm_log_analytics_workspace\" \"this\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = var.log_analytics_workspace_name\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 12, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku                 = \"PerGB2018\"\n  retention_in_days   = var.log_analytics_retention_days\n  tags                = var.tags\n}\n\n# STORAGE => LAW\nresource \"azurerm_monitor_diagnostic_setting\" \"storage_to_law\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 13, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                       = \"${var.project}-diag-storage\"\n  target_resource_id         = azurerm_storage_account.this.id\n  log_analytics_workspace_id = azurerm_log_analytics_workspace.this.id\n\n  # Categorías típicas de Storage (válidas como ejemplo)\n  log {\n    category = \"StorageRead\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n\n  log {\n    category = \"StorageWrite\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n\n  log {\n    category = \"StorageDelete\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n\n  metric {\n    category = \"AllMetrics\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 14, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "}\n\n# FRONT DOOR PROFILE => LAW\nresource \"azurerm_monitor_diagnostic_setting\" \"afd_to_law\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 15, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                       = \"${var.project}-diag-afd\"\n  target_resource_id         = azurerm_cdn_frontdoor_profile.this.id\n  log_analytics_workspace_id = azurerm_log_analytics_workspace.this.id\n\n  # Categorías típicas de AFD (ejemplo)\n  log {\n    category = \"FrontDoorAccessLog\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n\n  log {\n    category = \"FrontDoorHealthProbeLog\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n\n  metric {\n    category = \"AllMetrics\"\n    enabled  = true\n    retention_policy {\n      enabled = false\n      days    = 0\n    }\n  }\n}", "path": "docs/examples/azure-static-site/07-static-site+logging/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "0ad9345ed6709f4d", "chunk_id": 16, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 07 – Static Site + Logging\n\nObjetivo: servir el **Static Website** de Azure Storage detrás de **Front Door Standard/Premium** y **enviar logs/métricas** de Storage y Front Door a **Log Analytics** mediante `azurerm_monitor_diagnostic_setting`.\n\nEste ejemplo valida **offline** con:\n\n```bash\nterraform fmt -recursive\nterraform init -backend=false\nterraform validate\n\n", "path": "docs/examples/azure-static-site/07-static-site+logging/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "07-static-site+logging", "hash": "120eb4a64fbf7acf", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"ststaticsitedemo123\" # minúsculas, 3-24, único global\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"404.html\"\n}\n\n# Front Door Standard/Premium\nvariable \"front_door_sku_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"Standard_AzureFrontDoor\"\n}\n\n# Log Analytics\nvariable \"log_analytics_workspace_name\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"law-static-demo\"\n}\n\nvariable \"log_analytics_retention_days\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = number\n  default = 30\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/07-static-site+logging/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "07-static-site+logging", "hash": "4d267890b0ff5106", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_primary_endpoint\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "91285a4fe77f0041", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website (nativa de Storage)\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"cdn_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "91285a4fe77f0041", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname del CDN que sirve el sitio estático\"\n  value       = \"${azurerm_cdn_endpoint.this.name}.azureedge.net\"\n}\n\noutput \"cdn_public_url\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "91285a4fe77f0041", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL https pública a través del CDN\"\n  value       = \"https://${azurerm_cdn_endpoint.this.name}.azureedge.net\"\n}", "path": "docs/examples/azure-static-site/02-storage+cdn/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "91285a4fe77f0041", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Nombre normalizado para la cuenta de Storage\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account (requerido para Static Website)\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\" # requerido para static website\n  tags                     = var.tags\n}\n\n# Static Website\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# CDN clásico (Profile + Endpoint) \nresource \"azurerm_cdn_profile\" \"this\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-cdn\"\n  location            = \"Global\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku                 = var.cdn_sku # p. ej. Standard_Microsoft\n  tags                = var.tags\n}\n\nresource \"azurerm_cdn_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-cdn-endpoint\"\n  profile_name        = azurerm_cdn_profile.this.name\n  location            = \"Global\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "is_http_allowed  = false\n  is_https_allowed = true\n\n  # Origen: el host del Static Website (sin https://)\n  origin {\n    name      = \"staticweb\"\n    host_name = azurerm_storage_account.this.primary_web_host\n  }\n\n  # Opcional: comportamiento de caché\n  querystring_caching_behaviour = \"IgnoreQueryString\"\n\n  depends_on = [azurerm_storage_account_static_website.this]\n  tags       = var.tags\n}", "path": "docs/examples/azure-static-site/02-storage+cdn/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "753391b4946783d8", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 02 — Static Website en Storage con Azure CDN\n\nCrea un sitio estático en **Azure Storage** (Static Website) y lo publica a través de un **Azure CDN** clásico.  \nÚtil para mejorar latencia, caché y TLS gestionado en el edge.\n\n**Recursos**: `azurerm_resource_group`, `azurerm_storage_account`, `azurerm_storage_account_static_website`, `azurerm_cdn_profile`, `azurerm_cdn_endpoint`.\n\n> Validación local/offline: `terraform init -backend=false && terraform validate`\n", "path": "docs/examples/azure-static-site/02-storage+cdn/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "02-storage+cdn", "hash": "2bf213e822b3e8b3", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre corto del proyecto para etiquetar recursos\"\n  type        = string\n  default     = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Región de Azure\"\n  type        = string\n  default     = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre del Resource Group\"\n  type        = string\n  default     = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre único para la cuenta de Storage (minúsculas, 3–24, solo letras y números)\"\n  type        = string\n  default     = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de inicio para static website\"\n  type        = string\n  default     = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de error para static website\"\n  type        = string\n  default     = \"404.html\"\n}\n\n# CDN\nvariable \"cdn_sku\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"SKU del CDN clásico\"\n  type        = string\n  default     = \"Standard_Microsoft\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/02-storage+cdn/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "02-storage+cdn", "hash": "8d71d9fd6d842b1e", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "764323a700793b04", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"resource_group\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "764323a700793b04", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_resource_group.this.name\n}", "path": "docs/examples/azure-static-site/01-storage-static-website/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "764323a700793b04", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n  skip_provider_registration = true #Evita el registro automático en Azure mientras no tengamos cuenta\n}\n\n# Nombre normalizado para la cuenta de Storage\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\n# RG\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account (requerido para Static Website)\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\n# Static Website \nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}", "path": "docs/examples/azure-static-site/01-storage-static-website/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "0b7e01aa8ea5b08a", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# Static Website en Azure Storage\n\nCrea un Storage Account con `static_website` habilitado (contenedor `$web`), página de inicio y de error.\n**Uso típico**: alojar una web estática barata y rápida sin servidores.\n**Prerequisitos**: proveedor `azurerm` v3+, subscripción con permisos de “Contributor”.\n", "path": "docs/examples/azure-static-site/01-storage-static-website/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "01-storage-static-website", "hash": "b685fc7ed6503ea0", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre corto del proyecto para etiquetar recursos\"\n  type        = string\n  default     = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Región de Azure\"\n  type        = string\n  default     = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre del Resource Group\"\n  type        = string\n  default     = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre único para la cuenta de Storage (minúsculas, 3-24, solo letras y números)\"\n  type        = string\n  default     = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de inicio para static website\"\n  type        = string\n  default     = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de error para static website\"\n  type        = string\n  default     = \"404.html\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/01-storage-static-website/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "01-storage-static-website", "hash": "5194df2456f5f5d5", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/06-static-site+https/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "1a1bed0f8659649a", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"frontdoor_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/06-static-site+https/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "1a1bed0f8659649a", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname público de Front Door\"\n  value       = azurerm_cdn_frontdoor_endpoint.this.host_name\n}", "path": "docs/examples/azure-static-site/06-static-site+https/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "1a1bed0f8659649a", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account + Static Website (origen)\nlocals {\n  sa_name = lower(var.storage_account_name) # debe ser único global\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# Azure Front Door (Standard/Premium)\n\n# Perfil \nresource \"azurerm_cdn_frontdoor_profile\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-afd-prof\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku_name            = var.front_door_sku_name # p.ej. \"Standard_AzureFrontDoor\"\n  tags                = var.tags\n}\n\n# Endpoint público\nresource \"azurerm_cdn_frontdoor_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-endp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n}\n\n# Grupo de orígenes (load balancing + health probe)\nresource \"azurerm_cdn_frontdoor_origin_group\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-origrp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n\n  load_balancing {\n    sample_size                 = 4\n    successful_samples_required = 3\n  }\n\n  health_probe {\n    path                = \"/\"\n    request_type        = \"HEAD\"\n    protocol            = \"Https\"\n    interval_in_seconds = 100\n  }\n}\n\n# Origen: host público del Static Website del Storage (sin https://)\nresource \"azurerm_cdn_frontdoor_origin\" \"static_site_origin\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-origin\"\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n\n  # El Static Website expone 'primary_web_host' (solo hostname)\n  host_name = azurerm_storage_account.this.primary_web_host\n\n  http_port                      = 80\n  https_port                     = 443\n  enabled                        = true\n  priority                       = 1\n  weight                         = 1000\n  certificate_name_check_enabled = true\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Ruta: enlaza endpoint con el origen y fuerza HTTPS\nresource \"azurerm_cdn_frontdoor_route\" \"this\" {", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-route\"\n  cdn_frontdoor_endpoint_id     = azurerm_cdn_frontdoor_endpoint.this.id\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n  cdn_frontdoor_origin_ids      = [azurerm_cdn_frontdoor_origin.static_site_origin.id]\n\n  supported_protocols    = [\"Http\", \"Https\"] # acepta ambos...\n  https_redirect_enabled = true              # ...pero redirige a HTTPS\n\n  link_to_default_domain = true\n  patterns_to_match      = [\"/*\"]\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}", "path": "docs/examples/azure-static-site/06-static-site+https/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "c5beeaa8b20a6d2c", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 06 – Static Site + HTTPS (Front Door)\n\nObjetivo: servir el Static Website de Azure Storage detrás de **Front Door Standard/Premium**, **forzando HTTPS** y añadiendo **HSTS**.\n\n- `azurerm_cdn_frontdoor_route.https_redirect_enabled = true` aplica redirección automática a HTTPS.\n- `azurerm_cdn_frontdoor_rule_set` + `azurerm_cdn_frontdoor_rule` añade la cabecera `Strict-Transport-Security`.\n\n> Este ejemplo valida **offline** con:\n>\n> ```bash\n> terraform fmt -recursive\n> terraform init -backend=false\n> terraform validate\n> ```\n", "path": "docs/examples/azure-static-site/06-static-site+https/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "06-static-site+https", "hash": "a22c400a9207bfa4", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"404.html\"\n}\n\n# Front Door Standard/Premium\nvariable \"front_door_sku_name\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"Standard_AzureFrontDoor\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/06-static-site+https/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "06-static-site+https", "hash": "9e2bb289b8e338e4", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"resource_group\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "d39b539af5752c66", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_resource_group.this.name\n  description = \"Nombre del RG\"\n}\n\noutput \"static_website_url\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "d39b539af5752c66", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_storage_account.this.primary_web_endpoint\n  description = \"URL pública del Static Website\"\n}\n\noutput \"frontdoor_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "d39b539af5752c66", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_cdn_frontdoor_endpoint.this.host_name\n  description = \"Host del endpoint de Azure Front Door\"\n}", "path": "docs/examples/azure-static-site/03-frontdoor-static/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "d39b539af5752c66", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n#   Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n#   Storage Account + Static Website\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n#   Azure Front Door (Standard/Premium)\nresource \"azurerm_cdn_frontdoor_profile\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-afd-prof\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku_name            = var.front_door_sku_name # \"Standard_AzureFrontDoor\" o \"Premium_AzureFrontDoor\"\n  tags                = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-endp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n}\n\nresource \"azurerm_cdn_frontdoor_origin_group\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-origrp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n\n  load_balancing {\n    sample_size                 = 4\n    successful_samples_required = 3\n  }\n\n  health_probe {\n    path                = \"/\"\n    request_type        = \"HEAD\"\n    protocol            = \"Https\"\n    interval_in_seconds = 100\n  }\n}\n\n# Origen: el host del \"static website\" del Storage\nresource \"azurerm_cdn_frontdoor_origin\" \"static_site_origin\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-origin\"\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n\n  # Importante: este atributo EXISTE cuando está habilitado static website\n  host_name = azurerm_storage_account.this.primary_web_host\n\n  http_port                      = 80\n  https_port                     = 443\n  enabled                        = true\n  priority                       = 1\n  weight                         = 1000\n  certificate_name_check_enabled = true\n}\n\nresource \"azurerm_cdn_frontdoor_route\" \"this\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-route\"\n  cdn_frontdoor_endpoint_id     = azurerm_cdn_frontdoor_endpoint.this.id\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n  cdn_frontdoor_origin_ids      = [azurerm_cdn_frontdoor_origin.static_site_origin.id]\n\n  supported_protocols = [\"Http\", \"Https\"]\n  patterns_to_match   = [\"/*\"]\n  forwarding_protocol = \"HttpsOnly\"\n\n  link_to_default_domain = true\n  https_redirect_enabled = true\n}", "path": "docs/examples/azure-static-site/03-frontdoor-static/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "a12ed98620727101", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 03 - Static Website con Azure Front Door\n\n**Qué hace**  \nCrea:\n\n- Un **Resource Group**.\n- Una **Storage Account** con **Static Website** (index y 404).\n- Un perfil y endpoint de **Azure Front Door (Standard)**.\n- Un **origin group** y **origin** apuntando al host público del Static Website.\n- Una **route** que enruta `/*` hacia el origen y fuerza **HTTPS**.\n\n**Por qué**  \nEs el patrón típico “sitio estático + CDN/Front Door” para mejorar rendimiento y seguridad.\n\n**Archivos**\n\n- `main.tf`: define todos los recursos.\n- `variables.tf`: parámetros editables (RG, cuenta, SKU, etc.).\n- `outputs.tf`: muestra URLs útiles (endpoint Storage y hostname AFD).\n- `terraform.tfvars.example`: valores de ejemplo para reproducibilidad local.\n\n**Notas**\n\n- No hay `backend` de Terraform; se valida en **modo offline** con `init -backend=false`.\n- El nombre de `storage_account_name` debe ser **único y minúsculas**.\n", "path": "docs/examples/azure-static-site/03-frontdoor-static/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "03-frontdoor-static", "hash": "8e0e0714c04a5a51", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Prefijo corto del proyecto\"\n  type        = string\n  default     = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Región de Azure\"\n  type        = string\n  default     = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre del Resource Group\"\n  type        = string\n  default     = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre ÚNICO para la cuenta de Storage (3-24, solo minúsculas y números)\"\n  type        = string\n  default     = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento de inicio del sitio estático\"\n  type        = string\n  default     = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Documento 404 del sitio estático\"\n  type        = string\n  default     = \"404.html\"\n}\n\nvariable \"front_door_sku_name\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"SKU de Azure Front Door\"\n  type        = string\n  # Valores válidos: \"Standard_AzureFrontDoor\" | \"Premium_AzureFrontDoor\"\n  default = \"Standard_AzureFrontDoor\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/03-frontdoor-static/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "03-frontdoor-static", "hash": "3f5a1661be09051a", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"resource_group\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "b633f17b8ca2b1a3", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_resource_group.this.name\n  description = \"Nombre del RG creado\"\n}\n\noutput \"app_service_plan\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "b633f17b8ca2b1a3", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_service_plan.this.name\n  description = \"Nombre del App Service Plan\"\n}\n\noutput \"webapp_default_hostname\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "b633f17b8ca2b1a3", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value       = azurerm_linux_web_app.this.default_hostname\n  description = \"Hostname por defecto (*.azurewebsites.net)\"\n}", "path": "docs/examples/azure-static-site/04-static-site-app-service/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "b633f17b8ca2b1a3", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n    random = {\n      source  = \"hashicorp/random\"\n      version = \"~> 3.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Sufijo aleatorio para garantizar nombre global único del Web App\nresource \"random_id\" \"suffix\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "byte_length = 3\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = \"${var.project}-rg\"\n  location = var.location\n  tags     = var.tags\n}\n\n# App Service Plan (Linux)\nresource \"azurerm_service_plan\" \"this\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-asp\"\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "os_type  = \"Linux\"\n  sku_name = var.app_service_sku # p.ej. \"B1\", \"S1\", etc.\n\n  tags = var.tags\n}\n\n# Web App (Linux) para servir sitio estático (deploy de contenidos fuera de este ejemplo)\nresource \"azurerm_linux_web_app\" \"this\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-app-${random_id.suffix.hex}\"\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "service_plan_id     = azurerm_service_plan.this.id\n\n  https_only = true\n\n  site_config {\n    minimum_tls_version = \"1.2\"\n    ftps_state          = \"Disabled\"\n  }\n\n  tags = var.tags\n}", "path": "docs/examples/azure-static-site/04-static-site-app-service/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "a149f24dbcc229e0", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# App Service (Linux) para sitio estático\n\nCrea:\n\n- Resource Group\n- App Service Plan (Linux, SKU configurable)\n- Linux Web App con TLS 1.2 y FTPS deshabilitado\n\n**Uso típico (local, offline):**\n\n```\nterraform fmt -recursive\nterraform init -backend=false\nterraform validate\n```\n", "path": "docs/examples/azure-static-site/04-static-site-app-service/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "04-static-site-app-service", "hash": "bf3dbe2b2e335d25", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "9b38153a299adb58", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Nombre corto del proyecto para nombrar recursos\"\n  type        = string\n  default     = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "9b38153a299adb58", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Región de Azure\"\n  type        = string\n  default     = \"westeurope\"\n}\n\nvariable \"app_service_sku\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "9b38153a299adb58", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"SKU del App Service Plan (p.ej. B1, S1, P1v3)\"\n  type        = string\n  default     = \"B1\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/04-static-site-app-service/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "9b38153a299adb58", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Etiquetas estándar\"\n  type        = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/04-static-site-app-service/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "04-static-site-app-service", "hash": "9b38153a299adb58", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"resource_group_name\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "64580c79904a3327", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_resource_group.this.name\n}\n\noutput \"static_website_primary_endpoint\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "64580c79904a3327", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"static_website_primary_host\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "64580c79904a3327", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname del Static Website (sin esquema)\"\n  value       = azurerm_storage_account.this.primary_web_host\n}", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "64580c79904a3327", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account + Static Website\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "51193d495df891db", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 10 – Static Site + tfvars (ejemplo)\n\nObjetivo: mostrar cómo parametrizar el despliegue usando `terraform.tfvars`.\n\nValida offline con:\n\n```bash\nterraform fmt -recursive\nterraform init -backend=false\nterraform validate\n", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "cba5e31c331d99ec", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"404.html\"\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/10-static-site+tfvars-ejemplo/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "10-static-site+tfvars-ejemplo", "hash": "729917605beca5d6", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "output \"static_website_endpoint\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"URL pública del Static Website\"\n  value       = azurerm_storage_account.this.primary_web_endpoint\n}\n\noutput \"frontdoor_endpoint_hostname\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "description = \"Hostname público de Front Door\"\n  value       = azurerm_cdn_frontdoor_endpoint.this.host_name\n}\n\noutput \"action_group_id\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_monitor_action_group.this.id\n}\n\noutput \"metric_alert_storage_id\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_monitor_metric_alert.storage_tx.id\n}\n\noutput \"metric_alert_afd_id\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "value = azurerm_monitor_metric_alert.afd_total_requests.id\n}", "path": "docs/examples/azure-static-site/09-static-site+alerts/outputs.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "4079b33df7b837fc", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "terraform {\n  required_version = \">= 1.5.0\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"~> 3.100\"\n    }\n  }\n}\n\nprovider \"azurerm\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "features {}\n}\n\n# Resource Group\nresource \"azurerm_resource_group\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name     = var.resource_group_name\n  location = var.location\n  tags     = var.tags\n}\n\n# Storage Account + Static Website (origen)\nlocals {\n  sa_name = lower(var.storage_account_name)\n}\n\nresource \"azurerm_storage_account\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = local.sa_name\n  resource_group_name      = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "location                 = azurerm_resource_group.this.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n  min_tls_version          = \"TLS1_2\"\n  account_kind             = \"StorageV2\"\n  tags                     = var.tags\n}\n\nresource \"azurerm_storage_account_static_website\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "storage_account_id = azurerm_storage_account.this.id\n  index_document     = var.index_document\n  error_404_document = var.error_document\n}\n\n# Azure Front Door (Standard/Premium)\nresource \"azurerm_cdn_frontdoor_profile\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-afd-prof\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku_name            = var.front_door_sku_name # p.ej. \"Standard_AzureFrontDoor\"\n  tags                = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_endpoint\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-endp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n  tags                     = var.tags\n}\n\nresource \"azurerm_cdn_frontdoor_origin_group\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                     = \"${var.project}-afd-origrp\"\n  cdn_frontdoor_profile_id = azurerm_cdn_frontdoor_profile.this.id\n\n  load_balancing {\n    sample_size                 = 4\n    successful_samples_required = 3\n  }\n\n  health_probe {\n    path                = \"/\"\n    request_type        = \"HEAD\"\n    protocol            = \"Https\"\n    interval_in_seconds = 100\n  }\n}\n\n# Origen: host público del Static Website del Storage (sin https://)\nresource \"azurerm_cdn_frontdoor_origin\" \"static_site_origin\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-origin\"\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n\n  # el Static Website expone 'primary_web_host'\n  host_name = azurerm_storage_account.this.primary_web_host\n\n  http_port                      = 80\n  https_port                     = 443\n  enabled                        = true\n  priority                       = 1\n  weight                         = 1000\n  certificate_name_check_enabled = true\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Ruta: enlaza endpoint con el origen\nresource \"azurerm_cdn_frontdoor_route\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                          = \"${var.project}-route\"\n  cdn_frontdoor_endpoint_id     = azurerm_cdn_frontdoor_endpoint.this.id\n  cdn_frontdoor_origin_group_id = azurerm_cdn_frontdoor_origin_group.this.id\n  cdn_frontdoor_origin_ids      = [azurerm_cdn_frontdoor_origin.static_site_origin.id]\n\n  supported_protocols    = [\"Http\", \"Https\"]\n  https_redirect_enabled = true\n  link_to_default_domain = true\n  patterns_to_match      = [\"/*\"]\n\n  depends_on = [azurerm_storage_account_static_website.this]\n}\n\n# Log Analytics (para futuras reglas basadas en logs si quisieras)\nresource \"azurerm_log_analytics_workspace\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = var.log_analytics_workspace_name\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 12, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "sku                 = \"PerGB2018\"\n  retention_in_days   = var.log_analytics_retention_days\n  tags                = var.tags\n}\n\n# Action Group (destinatarios de alertas)\nresource \"azurerm_monitor_action_group\" \"this\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 13, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-ag\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 14, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "short_name          = \"alerts\"\n\n  email_receiver {\n    name                    = \"email\"\n    email_address           = var.alert_email\n    use_common_alert_schema = true\n  }\n\n  tags = var.tags\n}\n\n# MÉTRIC ALERTS\n\n# 1) Storage: demasiadas transacciones (ejemplo)\nresource \"azurerm_monitor_metric_alert\" \"storage_tx\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 15, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-alert-storage-tx\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 16, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "scopes              = [azurerm_storage_account.this.id]\n  description         = \"Transacciones de Storage por encima del umbral (ejemplo).\"\n  severity            = 3\n  frequency           = \"PT5M\"\n  window_size         = \"PT5M\"\n  auto_mitigate       = true\n  enabled             = true\n\n  criteria {\n    metric_namespace = \"Microsoft.Storage/storageAccounts\"\n    metric_name      = \"Transactions\"\n    aggregation      = \"Total\"\n    operator         = \"GreaterThan\"\n    threshold        = var.storage_tx_threshold\n  }\n\n  action {\n    action_group_id = azurerm_monitor_action_group.this.id\n  }\n\n  tags = var.tags\n}\n\n# 2) Front Door: muchas peticiones totales (ejemplo)\nresource \"azurerm_monitor_metric_alert\" \"afd_total_requests\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 17, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "name                = \"${var.project}-alert-afd-req\"\n  resource_group_name = azurerm_resource_group.this.name", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 18, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "scopes              = [azurerm_cdn_frontdoor_profile.this.id]\n  description         = \"TotalRequests de Front Door por encima del umbral (ejemplo).\"\n  severity            = 3\n  frequency           = \"PT5M\"\n  window_size         = \"PT5M\"\n  auto_mitigate       = true\n  enabled             = true\n\n  criteria {\n    metric_namespace = \"Microsoft.Cdn/profiles\"\n    metric_name      = \"TotalRequests\"\n    aggregation      = \"Total\"\n    operator         = \"GreaterThan\"\n    threshold        = var.afd_total_requests_threshold\n  }\n\n  action {\n    action_group_id = azurerm_monitor_action_group.this.id\n  }\n\n  tags = var.tags\n}", "path": "docs/examples/azure-static-site/09-static-site+alerts/main.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "cbfb347294278451", "chunk_id": 19, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "# 09 – Static Site + Alerts\n\nObjetivo: añadir **alertas** sobre métricas de **Storage** y **Front Door**, notificando a un **Action Group** por email.\n\nEste ejemplo valida **offline** con:\n\n```bash\nterraform fmt -recursive\nterraform init -backend=false\nterraform validate\n", "path": "docs/examples/azure-static-site/09-static-site+alerts/example.md", "collection": "azure-static-site", "language": "markdown", "example_dir": "09-static-site+alerts", "hash": "66cfc3014a228318", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "variable \"project\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 0, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"static-site\"\n}\n\nvariable \"location\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 1, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"westeurope\"\n}\n\nvariable \"resource_group_name\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 2, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"rg-static-site-demo\"\n}\n\nvariable \"storage_account_name\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 3, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"ststaticsitedemo123\"\n}\n\nvariable \"index_document\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 4, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"index.html\"\n}\n\nvariable \"error_document\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 5, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"404.html\"\n}\n\n# Front Door Standard/Premium\nvariable \"front_door_sku_name\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 6, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"Standard_AzureFrontDoor\"\n}\n\n# Log Analytics\nvariable \"log_analytics_workspace_name\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 7, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = string\n  default = \"law-static-demo\"\n}\n\nvariable \"log_analytics_retention_days\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 8, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type    = number\n  default = 30\n}\n\n# Alerting\nvariable \"alert_email\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 9, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type        = string\n  description = \"Email que recibirá las alertas.\"\n  default     = \"alerts@example.com\"\n}\n\nvariable \"storage_tx_threshold\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 10, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type        = number\n  description = \"Umbral de Transactions en Storage para disparar la alerta.\"\n  default     = 100000\n}\n\nvariable \"afd_total_requests_threshold\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 11, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type        = number\n  description = \"Umbral de TotalRequests en Front Door para disparar la alerta.\"\n  default     = 50000\n}\n\nvariable \"tags\" {", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 12, "metadata": {"provider": "azurerm", "topic": "static-website"}}
{"text": "type = map(string)\n  default = {\n    env     = \"dev\"\n    project = \"static-site\"\n    owner   = \"demo\"\n  }\n}", "path": "docs/examples/azure-static-site/09-static-site+alerts/variables.tf", "collection": "azure-static-site", "language": "terraform", "example_dir": "09-static-site+alerts", "hash": "de495300cfa5f038", "chunk_id": 13, "metadata": {"provider": "azurerm", "topic": "static-website"}}
