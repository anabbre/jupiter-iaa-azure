# Formato y lint compartidos

[tool.black]
line-length = 100
target-version = ["py311", "py312", "py313"]
skip-string-normalization = true

[tool.isort]
profile = "black"
line_length = 100
include_trailing_comma = true
multi_line_output = 3
known_first_party = ["aux_files", "modules"]
skip = [
  "src/rag/vector_db",
  "knowledge-base-terraform",
  "docs",
  "src/docs_terraform"
]

[tool.ruff]
# objetivo de versión y longitud global un poco más laxa
target-version = "py312"
line-length = 200
extend-exclude = [
  "src/rag/vector_db",         # binarios/BD
  "knowledge-base-terraform",  # corpus
  "docs"                        # docs estáticas
]

[tool.ruff.lint]
# qué reglas chequeamos
select = ["E", "F", "I"]   # (errors, pyflakes, isort)
ignore = ["E203"]          # típico para convivir con Black

# ignora E501 SOLO en archivos con prompts/logs largos
per-file-ignores = {
  "agent.py" = ["E501"],
  "aux_files/_utils.py" = ["E501"],
  "modules/chatbot.py" = ["E501"],
  "ingest.py" = ["E501"],
}

[tool.mypy]
python_version = "3.11"
ignore_missing_imports = true

[tool.bandit]
skips = ["B101"]  # (opcional) evita falso positivo assert
